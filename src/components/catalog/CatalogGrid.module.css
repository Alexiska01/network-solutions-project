/* ===== Герцовка → длительность 1 кадра ===== */
.root { --frame: 16.667ms; /* по умолчанию 60 Гц */ }

/* 60fps   */ .hz60  { --frame: 16.667ms; }
/* 120fps  */ .hz120 { --frame: 8.333ms;  }
/* 144fps  */ .hz144 { --frame: 6.944ms;  }
/* 165fps  */ .hz165 { --frame: 6.061ms;  }
/* 240fps  */ .hz240 { --frame: 4.167ms;  }
/* 244fps  */ .hz244 { --frame: 4.098ms;  }

/* ===== Общие мелочи ===== */
.section {
  opacity: 0;
  transform: translateY(6px);
  transition:
    opacity calc(10 * var(--frame)) ease,
    transform calc(10 * var(--frame)) ease;
}
.section { opacity: 1; transform: none; } /* сразу видимы, анимируем только карточки */
.revealBase {}

/* Бейджи-иконки */
.badgeBlue {
  width: 40px; height: 40px; border-radius: 12px;
  display:flex; align-items:center; justify-content:center;
  background: linear-gradient(90deg, #3b82f6, #6366f1);
  box-shadow: 0 6px 18px rgba(79,70,229,.18);
}
.badgeCyan {
  width: 32px; height: 32px; border-radius: 10px;
  display:flex; align-items:center; justify-content:center;
  background: linear-gradient(90deg, #60a5fa, #2563eb);
  box-shadow: 0 5px 16px rgba(37,99,235,.18);
}
.badgeIndigo {
  width: 32px; height: 32px; border-radius: 10px;
  display:flex; align-items:center; justify-content:center;
  background: linear-gradient(90deg, #818cf8, #4f46e5);
  box-shadow: 0 5px 16px rgba(79,70,229,.18);
}
.badgePurpleXL {
  width: 48px; height: 48px; border-radius: 16px;
  display:flex; align-items:center; justify-content:center;
  background: linear-gradient(90deg, #a855f7, #7c3aed);
  box-shadow: 0 8px 22px rgba(124,58,237,.22);
}
.badgePurple {
  width: 32px; height: 32px; border-radius: 10px;
  display:flex; align-items:center; justify-content:center;
  background: linear-gradient(90deg, #a78bfa, #7c3aed);
  box-shadow: 0 5px 16px rgba(124,58,237,.18);
}
.badgeEmerald {
  width: 32px; height: 32px; border-radius: 10px;
  display:flex; align-items:center; justify-content:center;
  background: linear-gradient(90deg, #34d399, #059669);
  box-shadow: 0 5px 16px rgba(5,150,105,.18);
}

/* ===== Карточки: reveal по скроллу, только transform+opacity ===== */
@keyframes cg-fade-up {
  from { opacity: 0; transform: translateY(12px) scale(.985); }
  to   { opacity: 1; transform: translateY(0)    scale(1); }
}

/* Базовое скрытое состояние */
.cardReveal {
  opacity: 0;
  transform: translateY(12px) scale(.985);
  will-change: transform, opacity;
  /* Задержка = индекс * (стаггер-кадры * длительность кадра) */
  /* --i ставим из TS, --stagger в кадрах */
  --stagger: 6;
  --delay: calc(var(--i, 0) * var(--stagger) * var(--frame));
}

/* Как только добавили класс revealed — включая анимацию */
.cardReveal.revealed {
  animation: cg-fade-up calc(24 * var(--frame)) cubic-bezier(.16,1,.3,1) var(--delay) both;
}

/* ВАЖНО: чтобы класс не выкинулся как “пустой” в CSS-module */
.revealed { --revealed: 1; }

/* ===== A11y ===== */
@media (prefers-reduced-motion: reduce) {
  .cardReveal {
    animation: none !important;
    opacity: 1 !important;
    transform: none !important;
  }
}

/* Glyph цвет берёт из фона бейджа через currentColor */
.badgeGlyph { color: #fff; display:block; }

/* Ховер/фокус/press эффекты вокруг карточки (обёртка над SwitchCard) */
/* Ховер-эффект безопасен: тень позади, контент не перекрываем */
.cardShell {
  position: relative;
  border-radius: 14px;
  contain: layout paint style;
  isolation: isolate;
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  background: transparent;
  /* обёртка больше не двигается и не рисует тень */
  isolation: isolate;                  /* свой стек без z-index */
  -webkit-tap-highlight-color: transparent;
  touch-action: manipulation;
  box-shadow:
    0 1px 2px rgba(0,0,0,.04),
    0 0 0 rgba(0,0,0,0);               /* старт — без свечения */
}
.cardInner {
  position: relative;
  z-index: 0;
  border-radius: inherit;
  transform: translateZ(0);
  backface-visibility: hidden;
  will-change: transform, box-shadow;
  transition:
    transform calc(10 * var(--frame)) cubic-bezier(.16,1,.3,1),
    box-shadow calc(14 * var(--frame)) cubic-bezier(.16,1,.3,1);
}
/* hover-glow и движение — на самом контенте */
.cardShell:hover .cardInner {
  transform: translateY(-2px);
  box-shadow:
    0 12px 28px rgba(0,0,0,.10),
    0  6px 16px rgba(0,0,0,.06),
    0  0  0 2px rgba(59,130,246,.20),
    0  8px 32px rgba(59,130,246,.14);
}
.cardShell:active .cardInner {
  transform: translateY(0);
  box-shadow:
    0 8px 18px rgba(0,0,0,.06),
    0 3px 10px rgba(0,0,0,.04);
}
.cardShell:focus-within .cardInner {
  box-shadow:
    0 0 0 2px rgba(0,190,173,.22),
    0 10px 24px rgba(0,0,0,.06),
    0  8px 32px rgba(0,190,173,.10);
}
/* локальные outlines для интерактивов, без влияния на фон */
.cardInner :focus-visible {
  outline: 2px solid #00bead;
  outline-offset: 2px;
  border-radius: 12px;
}

/* Мобильный tap (вместо hover) */
@media (hover: none) and (pointer: coarse) {
  .cardShell:active .cardInner {
    transform: translateY(0) scale(.995);
    box-shadow:
      0  8px 18px rgba(0,0,0,.10),
      0  3px 10px rgba(0,0,0,.06),
      0  0  0 2px rgba(59,130,246,.18),
      0  6px 24px rgba(59,130,246,.12);
  }
}