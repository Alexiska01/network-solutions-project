/* === CUSTOMER JOURNEY (professional timeline styling) === */

/* Viewport reveal utility (base, no blur) */
.journey-anim { opacity:0; }
.journey-anim.is-visible { opacity:1; }

/* Performance hints */
.journey-section, .journey-timeline, .journey-step, .journey-step-icon, .journey-step-title, .journey-step-description, .journey-line { will-change:transform,opacity; backface-visibility:hidden; }

/* Timeline container */
.journey-timeline { opacity:1; }

/* Track spacing removed */
.journey-track { padding-top:0; padding-bottom:0; position:relative; }

/* Section hosts background line */
.journey-section { position:relative; }
/* Decorative background line (desktop) */
.journey-section::before { content:""; position:absolute; top:0; left:0; width:100%; height:2px; background:linear-gradient(90deg,#2d368e,#00acad 55%,#2d368e); opacity:.40; pointer-events:none; }
@media (max-width:1023px){ .journey-section::before{ display:none; } }

/* Fullâ€‘bleed accent line */
/* Removed in-DOM .journey-line element */

/* Steps positioning + airy entry */
.journey-step { position:relative; }
.journey-step.journey-anim { opacity:0; transform:translateY(28px) scale(.88); will-change:transform,opacity; }
.journey-step.journey-anim.is-visible { animation:stepAirIn .9s cubic-bezier(.22,.9,.35,1) forwards; }
@keyframes stepAirIn { 0%{opacity:0; transform:translateY(28px) scale(.88);} 55%{opacity:1; transform:translateY(-6px) scale(1.028);} 72%{transform:translateY(2px) scale(.995);} 100%{opacity:1; transform:translateY(0) scale(1);} }

/* Icon entrance (slight delay) */
.journey-step.journey-anim .journey-step-icon { opacity:0; transform:translateY(18px) scale(.8); will-change:transform,opacity; }
.journey-step.journey-anim.is-visible .journey-step-icon { animation:iconPopIn .85s cubic-bezier(.25,.9,.3,1.05) .08s forwards; }
@keyframes iconPopIn { 0%{opacity:0; transform:translateY(18px) scale(.8);} 55%{opacity:1; transform:translateY(-4px) scale(1.1);} 78%{transform:translateY(2px) scale(.97);} 100%{opacity:1; transform:translateY(0) scale(1);} }

/* Text fade/slide */
.journey-step.journey-anim .journey-step-title { opacity:0; transform:translateY(14px); }
.journey-step.journey-anim .journey-step-description { opacity:0; transform:translateY(14px); }
.journey-step.journey-anim.is-visible .journey-step-title { animation:titleRise .65s cubic-bezier(.3,.8,.3,1) .14s forwards; }
.journey-step.journey-anim.is-visible .journey-step-description { animation:descRise .7s cubic-bezier(.3,.8,.3,1) .22s forwards; }
@keyframes titleRise { 0%{opacity:0; transform:translateY(14px);} 100%{opacity:1; transform:translateY(0);} }
@keyframes descRise { 0%{opacity:0; transform:translateY(14px);} 100%{opacity:.92; transform:translateY(0);} }

/* Stagger (nth-child) */
.journey-steps-row .journey-step.journey-anim.is-visible { animation-delay:calc(var(--seq) * .26s); }
.journey-steps-row .journey-step.journey-anim:nth-child(1){ --seq:0; }
.journey-steps-row .journey-step.journey-anim:nth-child(2){ --seq:1; }
.journey-steps-row .journey-step.journey-anim:nth-child(3){ --seq:2; }
.journey-steps-row .journey-step.journey-anim:nth-child(4){ --seq:3; }

/* Mobile vertical list stagger */
.journey-timeline.lg\:hidden .journey-step.journey-anim.is-visible { animation-delay:calc(var(--seq) * .26s); }
.journey-timeline.lg\:hidden .journey-step.journey-anim:nth-child(1){ --seq:0; }
.journey-timeline.lg\:hidden .journey-step.journey-anim:nth-child(2){ --seq:1; }
.journey-timeline.lg\:hidden .journey-step.journey-anim:nth-child(3){ --seq:2; }
.journey-timeline.lg\:hidden .journey-step.journey-anim:nth-child(4){ --seq:3; }

/* Hover elevation (refined) */
.journey-step:hover { transform:translateY(-4px); }
.journey-steps-row { list-style:none; margin:0; padding:0; }
.journey-steps-row .journey-step { display:flex; flex-direction:column; align-items:center; }
.journey-steps-row .journey-step-icon { border:1px solid var(--accent,#00acad); }

/* Step Icons - Dynamic Entrance */
/* Icon container (desktop) */
.journey-step-icon { display:flex; align-items:center; justify-content:center; background:#ffffff; border:1px solid rgba(0,0,0,.06); box-shadow:0 4px 10px rgba(0,0,0,.04); transition:all .5s cubic-bezier(.4,.2,.2,1); position:relative; }
.journey-step.visible .journey-step-icon { }

/* Icon Background Enhancements */
/* Reuse accent variable */
.journey-step-icon::after { content:""; position:absolute; inset:0; border-radius:inherit; background:radial-gradient(circle at 50% 45%, rgba(255,255,255,.9), rgba(255,255,255,0) 70%); opacity:0; transition:opacity .6s ease; mix-blend-mode:soft-light; pointer-events:none; }

/* Desktop Icons (White Background) */
@media (min-width:1024px){ .journey-step-icon { border:1px solid var(--accent,#00acad); } }

/* Subtle icon shine (reduced intensity) */
.journey-step-icon > div::before { content:""; position:absolute; inset:-55%; background:linear-gradient(55deg,transparent 40%,rgba(255,255,255,.35) 50%,transparent 60%); transform:rotate(45deg) translate(-100%,-100%); animation:iconShine 5.5s ease-in-out 1.5s infinite; }
@keyframes iconShine { 0%{transform:rotate(45deg) translate(-100%,-100%);} 100%{transform:rotate(45deg) translate(200%,200%);} }

/* Icon Hover Animation (after entry) */
.journey-step:hover .journey-step-icon { transform:translateY(-6px) scale(1.07); box-shadow:0 10px 24px -6px rgba(0,0,0,.14),0 4px 10px -4px rgba(0,0,0,.08),0 0 0 1px var(--accent,#00acad); transition:transform .5s cubic-bezier(.25,.8,.3,1), box-shadow .5s ease; }
.journey-step:hover .journey-step-icon::after { opacity:1; }

/* Step titles & descriptions now animated via keyframes above */

/* Mobile Timeline - Vertical Layout */
@media (max-width: 1023px) {
  /* Show mobile timeline */
  .journey-timeline.lg\\:hidden {
    display: block !important;
    opacity: 1 !important;
  }

  /* Mobile Steps Animation */
  .journey-timeline.lg\\:hidden .journey-step {
    opacity: 0;
    transform: translate3d(-40px, 30px, 0) scale(0.9);
    transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  }

  .journey-timeline.lg\\:hidden .journey-step.visible {
    opacity: 1;
    transform: translate3d(0, 0, 0) scale(1);
  }

  /* Mobile Icon Background Override */
  .journey-timeline.lg\\:hidden .journey-step-icon {
    background: #00acad !important;
    border: none !important;
    box-shadow: 0 4px 15px rgba(0, 172, 173, 0.3) !important;
    opacity: 1 !important;
  }

  /* Mobile Step Internal Elements */
  .journey-timeline.lg\\:hidden .journey-step-title,
  .journey-timeline.lg\\:hidden .journey-step-description {
    opacity: 1 !important;
    transform: none !important;
  }

  /* Disable hover effects on mobile */
  .journey-step:hover {
    transform: none !important;
  }

  .journey-step:hover .journey-step-icon > div {
    transform: none !important;
  }
}

/* Tablet Optimizations */
@media (max-width: 768px) {
  .journey-title {
    transform: translate3d(0, -50px, 0) scale(0.9);
    transition-duration: 1.2s;
  }

  .journey-timeline {
    transition-duration: 1s;
  }

  .journey-step {
    transform: translate3d(-30px, 20px, 0) scale(0.95);
    transition-duration: 0.8s;
  }
}

/* Reduced motion accessibility */
@media (prefers-reduced-motion: reduce) {
  .journey-anim,.journey-step.journey-anim,.journey-step-icon,.journey-step-title,.journey-step-description{animation:none !important; transition:none !important; opacity:1 !important; transform:none !important;}
  .journey-step-icon > div::before{display:none !important;}
  .journey-step:hover .journey-step-icon { transform:none !important; }
}
